<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATC Macro Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ATC Macro Generator</h1>
            <p class="subtitle">Generate FluidNC and GrblHAL Automatic Tool Changer Macros</p>
        </header>

        <main>
            <div class="firmware-selection">
                <h2>Select Firmware Type</h2>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="firmware" value="fluidnc" checked>
                        <span class="radio-custom"></span>
                        FluidNC
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="firmware" value="grblhal">
                        <span class="radio-custom"></span>
                        GrblHAL
                    </label>
                </div>
            </div>

            <div class="magazine-config">
                <h2>Magazine Configuration</h2>
                <div class="input-group">
                    <label for="magazine-count">Number of Magazines:</label>
                    <select id="magazine-count" name="magazine-count">
                        <option value="1">1 Magazine</option>
                        <option value="2" selected>2 Magazines</option>
                        <option value="3">3 Magazines</option>
                        <option value="4">4 Magazines</option>
                    </select>
                </div>
            </div>

            <div class="global-settings">
                <h2>Global Settings</h2>
                <div class="settings-grid">
                    <div class="input-group">
                        <label for="units">Units:</label>
                        <select id="units" name="units">
                            <option value="21">Millimeters</option>
                            <option value="20">Inches</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="engage-z">Engage Z Position:</label>
                        <input type="number" id="engage-z" name="engage-z" value="-141.5" step="0.1">
                        <span class="tooltip" data-tooltip="Z machine coordinate position where tool engagement occurs">?</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="safe-z">Safe Z Clearance:</label>
                        <input type="number" id="safe-z" name="safe-z" value="-80" step="0.1">
                        <span class="tooltip" data-tooltip="Z position for clearing all obstacles during moves">?</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="engage-feed">Engage Feed Rate:</label>
                        <input type="number" id="engage-feed" name="engage-feed" value="2000" step="1">
                        <span class="tooltip" data-tooltip="Feed rate used for tool engagement and disengagement">?</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="unload-rpm">Unload RPM (CCW):</label>
                        <input type="number" id="unload-rpm" name="unload-rpm" value="2000" step="1">
                        <span class="tooltip" data-tooltip="Spindle speed for tool unloading (counter-clockwise)">?</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="load-rpm">Load RPM (CW):</label>
                        <input type="number" id="load-rpm" name="load-rpm" value="1600" step="1">
                        <span class="tooltip" data-tooltip="Spindle speed for tool loading (clockwise)">?</span>
                    </div>
                </div>
            </div>

            <div id="magazines-container">
                <!-- Magazine configurations will be dynamically generated here -->
            </div>

            <div class="tool-measurement">
                <h2>Tool Measurement</h2>
                <div class="settings-grid">
                    <div class="input-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="measure-enabled" name="measure-enabled" checked>
                            <span class="checkbox-custom"></span>
                            Enable Tool Measurement
                        </label>
                    </div>
                    
                    <div id="measurement-settings" class="measurement-settings">
                        <div class="input-group">
                            <label for="measure-x">Tool Setter X:</label>
                            <input type="number" id="measure-x" name="measure-x" value="1184.7" step="0.1">
                        </div>
                        
                        <div class="input-group">
                            <label for="measure-y">Tool Setter Y:</label>
                            <input type="number" id="measure-y" name="measure-y" value="74.7" step="0.1">
                        </div>
                        
                        <div class="input-group">
                            <label for="measure-start-z">Measurement Start Z:</label>
                            <input type="number" id="measure-start-z" name="measure-start-z" value="-80" step="0.1">
                        </div>
                        
                        <div class="input-group">
                            <label for="seek-distance">Seek Distance:</label>
                            <input type="number" id="seek-distance" name="seek-distance" value="150" step="0.1">
                        </div>
                        
                        <div class="input-group">
                            <label for="retract-distance">Retract Distance:</label>
                            <input type="number" id="retract-distance" name="retract-distance" value="1" step="0.1">
                        </div>
                        
                        <div class="input-group">
                            <label for="seek-feed">Seek Feed Rate:</label>
                            <input type="number" id="seek-feed" name="seek-feed" value="500" step="1">
                        </div>
                        
                        <div class="input-group">
                            <label for="set-feed">Set Feed Rate:</label>
                            <input type="number" id="set-feed" name="set-feed" value="25" step="1">
                        </div>
                    </div>
                </div>
            </div>

            <div class="manual-change">
                <h2>Manual Tool Change</h2>
                <div class="settings-grid">
                    <div class="input-group">
                        <label for="manual-x">Manual Change X:</label>
                        <input type="number" id="manual-x" name="manual-x" value="100" step="0.1">
                        <span class="tooltip" data-tooltip="X position for manual tool change operations">?</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="manual-y">Manual Change Y:</label>
                        <input type="number" id="manual-y" name="manual-y" value="50" step="0.1">
                        <span class="tooltip" data-tooltip="Y position for manual tool change operations">?</span>
                    </div>
                </div>
            </div>

            <div class="actions">
                <button id="generate-btn" class="btn-primary">Generate Macros</button>
                <button id="preview-btn" class="btn-secondary">Preview Configuration</button>
            </div>

            <div id="output-section" class="output-section" style="display: none;">
                <h2>Generated Macros</h2>
                <div class="output-container">
                    <div id="macro-files"></div>
                </div>
            </div>
        </main>
    </div>

    <div id="tooltip" class="tooltip-popup"></div>
    
    <script src="script.js"></script>
</body>
</html>